const a12_0x290462=a12_0x4550;(function(_0x39fdcd,_0x449fc4){const _0x25be96=a12_0x4550,_0x52e983=_0x39fdcd();while(!![]){try{const _0x1ec61c=-parseInt(_0x25be96(0x95))/0x1*(-parseInt(_0x25be96(0x74))/0x2)+parseInt(_0x25be96(0x97))/0x3*(parseInt(_0x25be96(0x88))/0x4)+parseInt(_0x25be96(0x93))/0x5*(parseInt(_0x25be96(0x7e))/0x6)+parseInt(_0x25be96(0x82))/0x7*(-parseInt(_0x25be96(0x8c))/0x8)+parseInt(_0x25be96(0x87))/0x9*(parseInt(_0x25be96(0x86))/0xa)+-parseInt(_0x25be96(0x8e))/0xb*(parseInt(_0x25be96(0x99))/0xc)+parseInt(_0x25be96(0x9a))/0xd;if(_0x1ec61c===_0x449fc4)break;else _0x52e983['push'](_0x52e983['shift']());}catch(_0x44b9f7){_0x52e983['push'](_0x52e983['shift']());}}}(a12_0x43b1,0xcd9ba));function a12_0x43b1(){const _0x29e976=['Could\x20not\x20fetch\x20GIF.','16777fpKzbm','-preset','51qtyFbl','join','16174524JEjxgH','6138964lBhcFO','.gif','arraybuffer','path','writeFileSync','toFormat','HLjrh','error','webp','WWUcP','TNYzg','-an','26KvMtUW','Could\x20not\x20fetch\x20image.','save','Error\x20fetching\x20image:','@ffmpeg-installer/ffmpeg','randomBytes','toString','UBtLA','vJnBh','data','231402dPSXJx','-vcodec','-vsync','addOutputOptions','148162gZOSSd','YiBCz','vEdtL','oyQBx','8257330VzUPLU','9XdmiIo','289076rPTKHV','zBPdu','.webp','hex','472XYPxHK','zpJlg','11XbOXGO','unlinkSync','get','exports','-vf','90RRdENU'];a12_0x43b1=function(){return _0x29e976;};return a12_0x43b1();}function a12_0x4550(_0x27ccc9,_0x2bbfa8){const _0x43b182=a12_0x43b1();return a12_0x4550=function(_0x45509f,_0x797380){_0x45509f=_0x45509f-0x69;let _0x189475=_0x43b182[_0x45509f];return _0x189475;},a12_0x4550(_0x27ccc9,_0x2bbfa8);}const axios=require('axios'),fs=require('fs'),path=require(a12_0x290462(0x6b)),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(a12_0x290462(0x78))['path'],ffmpeg=require('fluent-ffmpeg');ffmpeg['setFfmpegPath'](ffmpegPath);async function fetchImage(_0x124b65){const _0xc4f20b=a12_0x290462,_0x1389f6={'XMkyE':_0xc4f20b(0x77),'zoWAA':_0xc4f20b(0x75)};try{const _0x2f54e6=await axios[_0xc4f20b(0x90)](_0x124b65,{'responseType':_0xc4f20b(0x6a)});return _0x2f54e6[_0xc4f20b(0x7d)];}catch(_0x47216f){console['error'](_0x1389f6['XMkyE'],_0x47216f);throw new Error(_0x1389f6['zoWAA']);}}async function fetchGif(_0xcc479a){const _0x27ef10=a12_0x290462,_0x4ae335={'jWLCT':'Error\x20fetching\x20GIF:'};try{const _0x41f65b=await axios[_0x27ef10(0x90)](_0xcc479a,{'responseType':_0x27ef10(0x6a)});return _0x41f65b[_0x27ef10(0x7d)];}catch(_0x19b429){console[_0x27ef10(0x6f)](_0x4ae335['jWLCT'],_0x19b429);throw new Error(_0x27ef10(0x94));}}async function gifToSticker(_0x1d5537){const _0x37c8ed=a12_0x290462,_0x493f39={'UBtLA':function(_0x3489c4,_0x2f9e99){return _0x3489c4(_0x2f9e99);},'NklpZ':'end','YiBCz':'libwebp','ZMWai':_0x37c8ed(0x92),'uSRHq':'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','TNYzg':'-loop','zpJlg':_0x37c8ed(0x96),'oyQBx':'default','WRmYJ':_0x37c8ed(0x73),'HLjrh':_0x37c8ed(0x80),'WWUcP':function(_0x523809){return _0x523809();},'bZXZj':function(_0x29393f,_0x16267c){return _0x29393f+_0x16267c;},'vJnBh':_0x37c8ed(0x8b),'zBPdu':function(_0x26a546){return _0x26a546();},'vEdtL':function(_0x447774,_0x1bc912){return _0x447774+_0x1bc912;}},_0x296543=path['join'](_0x493f39[_0x37c8ed(0x71)](tmpdir),_0x493f39['bZXZj'](Crypto[_0x37c8ed(0x79)](0x6)['toString'](_0x493f39[_0x37c8ed(0x7c)]),_0x37c8ed(0x8a))),_0x2bab67=path[_0x37c8ed(0x98)](_0x493f39[_0x37c8ed(0x89)](tmpdir),_0x493f39[_0x37c8ed(0x84)](Crypto[_0x37c8ed(0x79)](0x6)[_0x37c8ed(0x7a)](_0x493f39['vJnBh']),_0x37c8ed(0x69)));fs[_0x37c8ed(0x6c)](_0x2bab67,_0x1d5537),await new Promise((_0x4e9822,_0x559b44)=>{const _0x2d0d87=_0x37c8ed;_0x493f39[_0x2d0d87(0x7b)](ffmpeg,_0x2bab67)['on']('error',_0x559b44)['on'](_0x493f39['NklpZ'],()=>_0x4e9822(!![]))[_0x2d0d87(0x81)]([_0x2d0d87(0x7f),_0x493f39[_0x2d0d87(0x83)],_0x493f39['ZMWai'],_0x493f39['uSRHq'],_0x493f39[_0x2d0d87(0x72)],'0',_0x493f39[_0x2d0d87(0x8d)],_0x493f39[_0x2d0d87(0x85)],_0x493f39['WRmYJ'],_0x493f39[_0x2d0d87(0x6e)],'0'])[_0x2d0d87(0x6d)](_0x2d0d87(0x70))[_0x2d0d87(0x76)](_0x296543);});const _0x4682e6=fs['readFileSync'](_0x296543);return fs[_0x37c8ed(0x8f)](_0x296543),fs[_0x37c8ed(0x8f)](_0x2bab67),_0x4682e6;}module[a12_0x290462(0x91)]={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};